<mat-toolbar class="mat-elevation-z4" color="primary">
    <span>ClientApp&nbsp;</span>
    <!-- Settings menu -->
    <button mat-button [matMenuTriggerFor]="backendSettings" aria-label="Backend settings menu." *ngIf="isAdmin">
        <mat-icon>settings</mat-icon>
        <span>&nbsp;{{'MENU.SETTINGS' | translate}}</span>
    </button>
    <mat-menu #backendSettings="matMenu">
        <button mat-menu-item [matMenuTriggerFor]="email">
            <mat-icon>email</mat-icon>
            <span>Email</span>
        </button>
        <mat-menu #email="matMenu">
            <button mat-menu-item routerLink="settings/email/server" routerLinkActive="active">
                <mat-icon>email</mat-icon>
                <span>{{'TOPMENU.EMAILSERVER' | translate}}</span>
            </button>
            <button mat-menu-item routerLink="settings/email/template" routerLinkActive="active">
                <mat-icon>list</mat-icon>
                <span>{{'TOPMENU.EMAILTEMPLATES' | translate}}</span>
            </button>
            <button mat-menu-item routerLink="settings/email/messages" routerLinkActive="active">
                <mat-icon>message</mat-icon>
                <span>{{'TOPMENU.MESSAGES' | translate}}</span>
            </button>
        </mat-menu>
    </mat-menu>
    <button mat-menu-item [matMenuTriggerFor]="user">
        <mat-icon>people_alt</mat-icon>
        <span>{{'TOPMENU.USER' | translate}}</span>
    </button>
    <!-- User -->
    <mat-menu #user="matMenu">
        <button mat-menu-item routerLink="settings/user" routerLinkActive="active">
            <mat-icon>people</mat-icon>
            <span>{{'TOPMENU.USER' | translate}}</span>
        </button>
        <button mat-menu-item routerLink="settings/group">
            <mat-icon>group_add</mat-icon>
            <span>Rechte</span>
        </button>
        <button mat-menu-item routerLink="user/emailConfirmation" routerLinkActive="active">
            <mat-icon>email</mat-icon>
            <span>&nbsp;Email Confirm</span>
        </button>
        <button mat-menu-item routerLink="user/twoStep" routerLinkActive="active">
            <mat-icon>looks_two</mat-icon>
            <span>&nbsp;Two Step Varification</span>
        </button>
    </mat-menu>

    <span class="spacer"></span>
    <!-- Login -->
    <button mat-button routerLink="user/login" *ngIf="!isUserAuthenticated">
        <mat-icon>login</mat-icon>
        <span>&nbsp;{{'TOPMENU.LOGIN' | translate}}</span>
    </button>
    <!-- Account -->
    <button mat-button [matMenuTriggerFor]="account" *ngIf="isUserAuthenticated">
        <mat-icon>account_box</mat-icon>
        <span>&nbsp;{{username}}</span>
    </button>
    <mat-menu #account="matMenu">
        <button mat-menu-item *ngIf="isUserAuthenticated" (click)="logout()">
            <mat-icon>logout</mat-icon>
            <span>&nbsp;{{'TOPMENU.LOGOUT' | translate}}</span>
        </button>
        <button mat-menu-item *ngIf="isUserAuthenticated" routerLink="user/resetPassword" routerLinkActive="active">
            <mat-icon>restart_alt</mat-icon>
            <span>&nbsp;{{'TOPMENU.RESETPASSWORD' | translate}}</span>
        </button>
    </mat-menu>
    <!-- Select theme -->
    <button mat-button [matMenuTriggerFor]="menu">
        <mat-icon>palette</mat-icon>
    </button>
    <mat-menu #menu="matMenu">
        <button mat-menu-item (click)="toggleTheme('dark-theme')">Dark</button>
        <button mat-menu-item (click)="toggleTheme('light-theme')">Light</button>
        <button mat-menu-item (click)="toggleTheme('light-red-theme')">Light-Red</button>
        <button mat-menu-item (click)="toggleTheme('dark-red-theme')">Dark-Red</button>
    </mat-menu>
    <!-- Select language -->
    <button mat-button [matMenuTriggerFor]="languageSelect">
        <span class="flag-icon flag-icon-{{selectedLanguageIcon}}"></span>
    </button>
    <mat-menu #languageSelect="matMenu">
        <button mat-menu-item (click)="onChangeLanguage(language.code, language.iconCode)"
            *ngFor="let language of supportedLanguage">
            <span class="flag-icon flag-icon-{{language.iconCode}}"
                style="margin-right: 5px;"></span><span>{{language.name}}</span>
        </button>
    </mat-menu>
</mat-toolbar>